<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Alunos Sem CSS</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .search-area { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
        .input-group { display: flex; margin: 10px 0; }
        .input-group input { flex: 1; padding: 8px; margin-right: 5px; }
        .input-group button { padding: 8px 15px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        .debug { background: #f0f0f0; padding: 10px; margin: 10px 0; font-family: monospace; }
    </style>
</head>
<body>
    <h1>Teste de Busca Sem CSS Complexo</h1>
    
    <div class="search-area">
        <h3>Área de Busca</h3>
        <div class="input-group">
            <input type="text" 
                   id="filtroBusca" 
                   placeholder="Digite o nome do aluno para buscar...">
            <button type="button" id="limparBusca">Limpar</button>
        </div>
        <div>
            <small>Resultados: <span id="totalResultados">0</span></small>
        </div>
    </div>

    <div class="table-area">
        <h3>Tabela de Alunos</h3>
        <table id="tabelaAlunos">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Telefone</th>
                    <th>Atividade</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>José Silva</td>
                    <td>(11) 99999-9999</td>
                    <td>Musculação</td>
                    <td><button>Editar</button></td>
                </tr>
                <tr>
                    <td>Maria Santos</td>
                    <td>(11) 88888-8888</td>
                    <td>Yoga</td>
                    <td><button>Editar</button></td>
                </tr>
                <tr>
                    <td>João Oliveira</td>
                    <td>(11) 77777-7777</td>
                    <td>Musculação</td>
                    <td><button>Editar</button></td>
                </tr>
                <tr>
                    <td>Ana Costa</td>
                    <td>(11) 66666-6666</td>
                    <td>Pilates</td>
                    <td><button>Editar</button></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="debug" id="debugLog">
        <strong>Log de Debug:</strong><br>
        <div id="debugContent"></div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        function log(message) {
            const timestamp = new Date().toLocaleTimeString();
            $('#debugContent').append('[' + timestamp + '] ' + message + '<br>');
            console.log(message);
        }

        $(document).ready(function() {
            log('=== INÍCIO DO TESTE SEM CSS ===');
            
            const $filtroBusca = $('#filtroBusca');
            const $limparBusca = $('#limparBusca');
            const $totalResultados = $('#totalResultados');
            const $tbody = $('#tabelaAlunos tbody');
            
            log('Elementos encontrados:');
            log('- filtroBusca: ' + $filtroBusca.length);
            log('- limparBusca: ' + $limparBusca.length);
            log('- totalResultados: ' + $totalResultados.length);
            log('- tbody: ' + $tbody.length);
            
            // Inicializar contador
            $totalResultados.text($tbody.find('tr').length);
            
            // Teste de busca local
            $filtroBusca.on('input', function() {
                const valor = $(this).val();
                log('Input detectado: "' + valor + '"');
                
                const termo = valor.toLowerCase();
                const $linhas = $tbody.find('tr');
                let encontrados = 0;
                
                $linhas.each(function() {
                    const nome = $(this).find('td:first').text().toLowerCase();
                    if (nome.includes(termo)) {
                        $(this).show();
                        encontrados++;
                    } else {
                        $(this).hide();
                    }
                });
                
                $totalResultados.text(encontrados);
                log('Busca concluída: ' + encontrados + ' alunos encontrados');
            });
            
            // Teste do botão limpar
            $limparBusca.on('click', function() {
                log('=== BOTÃO LIMPAR CLICADO ===');
                $filtroBusca.val('');
                $tbody.find('tr').show();
                $totalResultados.text($tbody.find('tr').length);
                log('Busca limpa');
            });
            
            // Teste de eventos adicionais
            $filtroBusca.on('keyup', function() {
                log('Keyup detectado: "' + $(this).val() + '"');
            });
            
            $filtroBusca.on('change', function() {
                log('Change detectado: "' + $(this).val() + '"');
            });
            
            // Teste de clique direto
            $limparBusca.on('mousedown', function() {
                log('Mouse down no botão limpar');
            });
            
            $limparBusca.on('mouseup', function() {
                log('Mouse up no botão limpar');
            });
            
            log('Teste inicializado com sucesso');
        });
    </script>
</body>
</html>
